<?php

namespace Database\Seeders;

use Carbon\Carbon;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class ClusterBCycleTimeSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $data = [
            ['TAB', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '11:00:00', '10:00:00', '21:55', '23:15'],
            ['TAB', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '11:15:00', '9:30:00', '23:00', '21:50'],
            ['TAP', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '3:00:00', '3:00:00', '6:55', '8:15'],
            ['TAP', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '4:00:00', '4:00:00', '10:15', '9:05'],
            ['TBC', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:10:00', '1:10:00', '3:15', '4:35'],
            ['TBC', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '0:20:00', '0:30:00', '3:05', '1:55'],
            ['TBG', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '6:35:00', '6:35:00', '14:05', '15:25'],
            ['TBG', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '7:45:00', '7:45:00', '17:45', '16:35'],
            ['TBI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '4:00:00', '4:00:00', '8:55', '10:15'],
            ['TBI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '5:00:00', '5:00:00', '12:15', '11:05'],
            ['TBR', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            ['TBR', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            ['TCL', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '0:30:00', '0:30:00', '1:55', '3:15'],
            ['TCL', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '1:20:00', '1:20:00', '4:55', '3:45'],
            ['TCS', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '9:30:00', '9:30:00', '19:55', '21:15'],
            ['TCS', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '10:15:00', '10:15:00', '22:45', '21:35'],
            ['TDG', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '5:35:00', '5:35:00', '12:05', '13:25'],
            ['TDG', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '6:35:00', '6:35:00', '15:25', '14:15'],
            ['TDM', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:30:00', '1:30:00', '3:55', '5:15'],
            ['TDM', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TIN', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '10:35:00', '10:35:00', '22:05', '23:25'],
            ['TIN', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '11:35:00', '11:35:00', '1:25', '0:15'],
            ['TLB', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:25:00', '1:25:00', '3:45', '5:05'],
            ['TLB', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:25:00', '2:25:00', '7:05', '5:55'],
            ['TLC', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '3:25:00', '3:25:00', '7:45', '9:05'],
            ['TLC', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '4:25:00', '4:25:00', '11:05', '9:55'],
            ['TLU', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '6:45:00', '6:45:00', '14:25', '15:45'],
            ['TLU', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '7:45:00', '7:45:00', '17:45', '16:35'],
            ['TMR', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '2:10:00', '2:10:00', '5:15', '6:35'],
            ['TMR', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '3:10:00', '3:10:00', '8:35', '7:25'],
            ['TNI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '6:10:00', '6:10:00', '13:15', '14:35'],
            ['TNI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '7:10:00', '7:10:00', '16:35', '15:25'],
            ['TPB', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '3:10:00', '3:10:00', '7:15', '8:35'],
            ['TPB', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '4:10:00', '4:10:00', '10:35', '9:25'],
            ['TSB', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '4:10:00', '4:10:00', '9:15', '10:35'],
            ['TSB', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '5:10:00', '5:10:00', '12:35', '11:25'],
            ['TSC', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:10:00', '1:10:00', '3:15', '4:35'],
            ['TSC', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:10:00', '2:10:00', '6:35', '5:25'],
            ['TSF', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '2:55:00', '2:55:00', '6:45', '8:05'],
            ['TSF', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '3:55:00', '3:55:00', '10:05', '8:55'],
            ['TSJ', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '3:10:00', '3:10:00', '7:15', '8:35'],
            ['TSJ', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '4:10:00', '4:10:00', '10:35', '9:25'],
            ['TSP', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:30:00', '1:30:00', '3:55', '5:15'],
            ['TSP', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TSR', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '', '', '0:55', '2:15'],
            ['TSR', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '1:20:00', '1:20:00', '4:55', '3:45'],
            ['TTA', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '3:10:00', '3:10:00', '7:15', '8:35'],
            ['TTA', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '4:10:00', '4:10:00', '10:35', '9:25'],
            ['TTG', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '13:25:00', '13:25:00', '3:45', '5:05'],
            ['TTG', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '14:25:00', '14:25:00', '7:05', '5:55'],
            ['TSG', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '11:35:00', '11:35:00', '0:05', '1:25'],
            ['TSG', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '12:35:00', '12:35:00', '3:25', '2:15'],
            ['TTR', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            ['TTR', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],

            ['TAI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', null,null, '0:55', '2:15'],
            ['TAI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '1:30:00', '1:30:00', '5:15', '4:05'],
            ['TAS', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:30:00', '1:30:00', '3:55', '5:15'],
            ['TAS', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TB2', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            ['TB2', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            ['TBK', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:48:00', '1:48:00', '4:31', '5:51'],
            ['TBK', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:48:00', '2:48:00', '7:51', '6:41'],
            ['TBP', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '0:55:00', '0:55:00', '2:45', '4:05'],
            ['TBP', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '1:55:00', '1:55:00', '6:05', '4:55'],
            ['TMI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '0:55:00', '0:55:00', '2:45', '4:05'],
            ['TMI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '1:55:00', '1:55:00', '6:05', '4:55'],
            ['TCI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', null,null, '0:55', '2:15',],
            ['TCI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TCM', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '2:10:00', '2:10:00', '5:15', '6:35'],
            ['TCM', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '3:10:00', '3:10:00', '8:35', '7:25'],
            ['TFV', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '2:10:00', '2:10:00', '5:15', '6:35'],
            ['TFV', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '3:10:00', '3:10:00', '8:35', '7:25'],
            ['TGC', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:35:00', '1:35:00', '4:05', '5:25'],
            ['TGC', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:35:00', '2:35:00', '7:25', '6:15'],
            ['TPT', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:35:00', '1:35:00', '4:05', '5:25'],
            ['TPT', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:35:00', '2:35:00', '7:25', '6:15'],
            ['TMB', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:20:00', '1:20:00', '3:35', '4:55'],
            ['TMB', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:20:00', '2:20:00', '6:55', '5:45'],
            ['TMS', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', null, '0:55', '2:15', '2:15'],
            ['TMS', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', null, '2:15', '1:05'],
            ['TOT', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:30:00', '1:30:00', '3:55', '5:15'],
            ['TOT', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TQA', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            ['TQA', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            ['TS2', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:35:00', '1:35:00', '4:05', '5:25'],
            ['TS2', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            ['TSI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:35:00', '1:35:00', '4:05', '5:25'],
            ['TSI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:35:00', '2:35:00', '7:25', '6:15'],
            ['LMI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:30:00', '1:30:00', '3:55', '5:15'],
            ['LMI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:30:00', '2:30:00', '7:15', '6:05'],
            ['TVI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '2:10:00', '2:10:00', '5:15', '6:35'],
            ['TVI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '3:10:00', '3:10:00', '8:35', '7:25'],

            // ['DAVAO GROUP - CY7', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            // ['DAVAO GROUP - CY7', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            // ['DAVAO GROUP - FUJI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:20:00', '1:20:00', '3:35', '4:55'],
            // ['DAVAO GROUP - FUJI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '0:20:00', '0:20:00', '2:55', '1:45'],
            // ['CEBU GROUP -CY7', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:45:00', '1:45:00', '4:25', '5:45'],
            // ['CEBU GROUP -CY7', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '2:45:00', '2:45:00', '7:45', '6:35'],
            // ['CEBU GROUP - FUJI', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '1:20:00', '1:20:00', '3:35', '4:55'],
            // ['CEBU GROUP - FUJI', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '0:20:00', '0:20:00', '2:55', '1:45'],
            // ['TACLOBAN DIRECT', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '60:00:00', '60:00:00', '5 DAYS', '5 DAYS'],
            // ['TACLOBAN DIRECT', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '60:00:00', '60:00:00', '5 DAYS', '5 DAYS'],
            // ['ORMOC DIRECT', 'DAYSTAR', '0:10:00', '1:30:00', '0:45:00', '60:00:00', '60:00:00', '5 DAYS', '5 DAYS'],
            // ['ORMOC DIRECT', 'SORO-SORO', '1:30:00', '0:20:00', '0:45:00', '60:00:00', '60:00:00', '5 DAYS', '5 DAYS']
        ];

        foreach ($data as $item) {
            $clientDealership = DB::table('tms_client_dealerships')
                ->where('code', $item[0])
                ->value('id');

            if ($clientDealership) {
                DB::table('tms_clusterb_cycle_times')->insert([
                    'client_dealership_id' => $clientDealership,
                    'garage_id' => $this->getGarageId($item[1]),
                    'svc_garage_to_pickup' => $this->convertTime($item[2]),
                    'bvc_garage_to_pickup' => $this->convertTime($item[3]),
                    'time_loading' => $this->convertTime($item[4]),
                    'departure_to_pickup' => $this->convertTime($item[5]),
                    'dealer_to_garage' => $this->convertTime($item[6]),
                    'svc_total_cycle_time' => isset($item[7]) ? $item[7] : NULL,
                    'bvc_total_cycle_time' => isset($item[8]) ? $item[8] : NULL,
                    'created_by' => 1,
                    'created_at' => now(),
                ]);
            }
        }
    }

    private function getGarageId($garageName)
    {
        $garages = [
            'DAYSTAR' => 1,
            'SORO-SORO' => 2
        ];

        return $garages[$garageName] ?? null;
    }

    private function convertTime($timeString)
    {
        // Check if the string contains 'DAYS', 'MONTH', or 'YEAR'
        if (strpos($timeString, 'DAYS') !== false || strpos($timeString, 'MONTH') !== false || strpos($timeString, 'YEAR') !== false) {
            return $timeString;
        }

        // Try to create a DateTime object from the time string
        $time = \DateTime::createFromFormat('H:i:s', $timeString);

        // Check if the time creation was successful
        if ($time !== false) {
            return $time->format('H:i:s');
        }

    }
}
